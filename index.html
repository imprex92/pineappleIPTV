<!DOCTYPE html>
<html>

<head>
	<title>new app</title>
	<link rel="stylesheet" type="text/css" href="./css/index.css">
	<style type="text/css">
		body {
			width: 100%;
			height: 100%;
			background-color: #202020;
		}
		header,footer{
			color: #fff;
			padding: 2rem 1rem;
		}

		div {
			position: absolute;
			margin: 20px;
			height: calc(100% - 1rem - 40px);
			width: 100%;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
		}

		h1 {
			display: table-cell;
			vertical-align: middle;
			text-align: center;
			color: #FFFFFF;
		}

	</style>
</head>

<script src="webOSTVjs-1.2.4/webOSTV.js" charset="utf-8"></script>
<script src="webOSTVjs-1.2.4/webOSTV-dev.js" charset="utf-8"></script>
<script type="module" src="./js/index.js"></script>
<script type="module" src="./js/videoPlayer.js"></script>

<script type="text/javascript">
	let subscriptionHandle;
	subscriptionHandle = webOS.service.request("luna://com.palm.systemservice", {
		method: "time/getSystemTime",
		parameters: {
			subscribe: true,
		},
		onSuccess: function (args) {
			//console.log(`Current Time (${args.TZ}): ${args.localtime.hour}:${args.localtime.minute}:${args.localtime.second}`);

			const timeEl = document.createElement('span')
			timeEl.innerHTML = `Current Time (${args.TZ}): ${args.localtime.hour}:${args.localtime.minute}:${args.localtime.second}`
			document.getElementById('header').appendChild(timeEl)
		},
		onFailure: function (args) {
			console.log("Failed to getTime", args);
		}
	});
	document.addEventListener('keydown', logEvent)
	function logEvent(e){
		console.log(e);
	}
</script>

<body>
	<div>
		<header id="header">this is the header</header>
		<h1>Hello, World!</h1>
		<footer>the footer is here</footer>
	</div>
</body>

</html>
